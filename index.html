<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>UPSC Elite Portal</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&family=Segoe+UI:wght@400;600;700&display=swap"
        rel="stylesheet">

    <style>
        /* --- DESIGN TOKENS --- */
        :root {
            --primary: #4f46e5;
            --primary-dark: #3730a3;
            --accent: #f59e0b;
            --success: #10b981;
            --danger: #ef4444;
            --bg-body: #f0f2f5;
            --white: #ffffff;
            --text-dark: #1e293b;
            --text-light: #64748b;
            --gradient: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        /* --- GLOBAL RESET (FORCE FIT) --- */
        * {
            box-sizing: border-box;
            /* Crucial for force flex */
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background-color: var(--bg-body);
            font-family: 'Poppins', sans-serif;
            color: var(--text-dark);
            width: 100vw;
            min-height: 100vh;
            overflow-x: hidden;
            /* Force no horizontal scroll */
            user-select: none;
        }

        /* Allow typing */
        input {
            user-select: text;
        }

        /* ==================== LOGIN SCREEN ==================== */
        #login-screen {
            position: fixed;
            inset: 0;
            background: var(--white);
            z-index: 9999;
            display: flex;
            flex-direction: row;
            /* Default Desktop */
        }

        .login-left {
            flex: 1.3;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        /* Decorative Circles */
        .circle-1 {
            position: absolute;
            top: -10%;
            right: -10%;
            width: 400px;
            height: 400px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
        }

        .circle-2 {
            position: absolute;
            bottom: -10%;
            left: -10%;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
        }

        .market-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 40px;
            border-radius: 24px;
            max-width: 500px;
            color: white;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
            z-index: 2;
        }

        .login-right {
            flex: 1;
            max-width: 500px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 40px;
            background: var(--white);
        }

        /* Input Styling */
        .input-group {
            margin-bottom: 20px;
            width: 100%;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .input-group input {
            width: 100%;
            padding: 14px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 16px;
            outline: none;
            transition: 0.3s;
            background: #f8fafc;
        }

        .input-group input:focus {
            border-color: var(--primary);
            background: #fff;
        }

        .btn-primary {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 12px;
            background: var(--gradient);
            color: white;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
            transition: 0.2s;
        }

        .btn-primary:active {
            transform: scale(0.98);
        }

        /* --- MOBILE LOGIN ADAPTATION --- */
        @media (max-width: 900px) {
            #login-screen {
                flex-direction: column;
                overflow-y: auto;
            }

            .login-left {
                flex: 0 0 auto;
                padding: 40px 20px;
                border-radius: 0 0 40px 40px;
            }

            .login-right {
                flex: 0 0 auto;
                padding: 30px 20px;
            }
        }

        /* ==================== DASHBOARD LAYOUT ==================== */
        #dashboard {
            display: none;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
        }

        /* --- DESKTOP SIDEBAR & HEADER --- */
        @media (min-width: 801px) {
            #dashboard {
                flex-direction: row;
            }

            aside {
                width: 280px;
                background: var(--white);
                border-right: 1px solid #e2e8f0;
                display: flex;
                flex-direction: column;
                padding: 25px;
                z-index: 10;
            }

            .nav-item {
                padding: 12px 15px;
                margin-bottom: 8px;
                border-radius: 10px;
                color: var(--text-light);
                cursor: pointer;
                font-weight: 500;
                display: flex;
                align-items: center;
                gap: 12px;
                transition: 0.2s;
            }

            .nav-item:hover,
            .nav-item.active {
                background: #e0e7ff;
                color: var(--primary);
            }

            main {
                flex: 1;
                display: flex;
                flex-direction: column;
                background: var(--bg-body);
                position: relative;
            }

            .desktop-header {
                height: 80px;
                background: var(--white);
                border-bottom: 1px solid #e2e8f0;
                display: flex;
                align-items: center;
                justify-content: space-between;
                padding: 0 40px;
            }

            .search-bar input {
                width: 400px;
                padding: 12px 20px;
                border-radius: 50px;
                border: 1px solid #cbd5e1;
                background: #f8fafc;
            }

            .content-area {
                padding: 40px;
                overflow-y: auto;
                flex: 1;
            }

            /* Desktop Lists */
            .list-container {
                background: white;
                border-radius: 16px;
                box-shadow: var(--shadow);
            }

            .list-row {
                display: grid;
                grid-template-columns: 3fr 1.5fr 1fr;
                padding: 18px 25px;
                border-bottom: 1px solid #f1f5f9;
                align-items: center;
            }

            .list-head {
                background: #f8fafc;
                font-weight: 600;
                color: var(--text-light);
            }

            .btn-action {
                float: right;
                padding: 8px 16px;
                border: 1px solid #e2e8f0;
                border-radius: 8px;
                font-size: 0.85rem;
                font-weight: 600;
                cursor: pointer;
                transition: 0.2s;
            }

            .list-row:hover .btn-action {
                background: var(--primary);
                color: white;
                border-color: var(--primary);
            }

            /* Test Grid Desktop */
            #testGrid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                gap: 25px;
            }

            /* Elements hidden on Desktop */
            .mobile-bottom-nav,
            .mobile-header,
            .mobile-search-wrapper {
                display: none;
            }
        }

        /* --- MOBILE LAYOUT (FORCE FLEX METHOD) --- */
        @media (max-width: 800px) {
            #dashboard {
                flex-direction: column;
            }

            /* Hide Desktop Elements */
            aside,
            .desktop-header {
                display: none;
            }

            /* 1. Mobile Top Header */
            .mobile-header {
                height: 60px;
                background: var(--white);
                border-bottom: 1px solid #e2e8f0;
                display: flex;
                align-items: center;
                justify-content: space-between;
                padding: 0 20px;
                position: sticky;
                top: 0;
                z-index: 50;
                flex-shrink: 0;
            }

            .brand-mobile {
                font-weight: 800;
                font-size: 1.2rem;
                color: var(--primary);
                display: flex;
                align-items: center;
                gap: 8px;
            }

            /* 2. Main Content (Flex Grow) */
            main {
                flex: 1;
                display: flex;
                flex-direction: column;
                overflow-y: auto;
                background: var(--bg-body);
                padding-bottom: 80px;
                /* Space for bottom nav */
                width: 100%;
            }

            .content-area {
                padding: 20px;
                width: 100%;
            }

            /* 3. Mobile Search */
            .mobile-search-wrapper {
                margin-bottom: 20px;
                width: 100%;
            }

            .mobile-search-wrapper input {
                width: 100%;
                padding: 14px;
                border: none;
                border-radius: 12px;
                background: white;
                box-shadow: var(--shadow);
                font-size: 1rem;
            }

            /* 4. Mobile Lists (Stacked Flex) */
            .list-head {
                display: none;
            }

            .list-container {
                background: transparent;
                box-shadow: none;
                width: 100%;
            }

            .list-row {
                display: flex;
                flex-direction: column;
                background: white;
                padding: 20px;
                margin-bottom: 15px;
                border-radius: 16px;
                box-shadow: var(--shadow);
                width: 100%;
                position: relative;
                border-left: 5px solid var(--primary);
            }

            .col-name {
                font-weight: 600;
                font-size: 1.05rem;
                margin-bottom: 10px;
                line-height: 1.4;
            }

            .col-institute {
                margin-bottom: 15px;
            }

            .col-institute span {
                background: #eff6ff;
                color: var(--primary);
                padding: 4px 10px;
                border-radius: 20px;
                font-size: 0.8rem;
                font-weight: 600;
            }

            .btn-action {
                display: block;
                width: 100%;
                padding: 12px;
                text-align: center;
                background: var(--primary);
                color: white;
                border-radius: 10px;
                font-weight: 600;
                font-size: 1rem;
                margin-top: auto;
                border: none;
            }

            /* 5. Mobile Test Grid (Full Width) */
            #testGrid {
                display: flex;
                flex-direction: column;
                gap: 15px;
                width: 100%;
            }

            /* 6. Fixed Bottom Navigation (The Fix) */
            .mobile-bottom-nav {
                height: 70px;
                background: white;
                border-top: 1px solid #e2e8f0;
                display: flex;
                justify-content: space-around;
                align-items: center;
                position: fixed;
                bottom: 0;
                left: 0;
                width: 100%;
                z-index: 100;
                box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.05);
            }

            .nav-btn {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                color: var(--text-light);
                font-size: 0.7rem;
                font-weight: 600;
                flex: 1;
                height: 100%;
                background: none;
                border: none;
                cursor: pointer;
            }

            .nav-btn svg {
                width: 24px;
                height: 24px;
                margin-bottom: 4px;
                fill: currentColor;
            }

            .nav-btn.active {
                color: var(--primary);
            }
        }

        /* --- SHARED STYLES --- */
        .pills-wrapper {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 5px;
            margin-bottom: 20px;
            scrollbar-width: none;
        }

        .pill {
            background: white;
            padding: 8px 20px;
            border-radius: 50px;
            border: 1px solid #e2e8f0;
            font-size: 0.9rem;
            white-space: nowrap;
            cursor: pointer;
        }

        .pill.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* --- PROFILE CARD STYLES (MATCHED EXACTLY) --- */
        .profile-wrapper {
            display: flex;
            justify-content: center;
            width: 100%;
        }

        .my-profile-card {
            background: white;
            width: 100%;
            max-width: 700px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            border: 1px solid #f0f0f0;
            font-family: 'Segoe UI', sans-serif;
        }

        .p-header {
            background: linear-gradient(135deg, #1a252f, #34495e);
            padding: 30px;
            text-align: center;
            color: white;
        }

        .p-avatar {
            width: 80px;
            height: 80px;
            background: white;
            color: #1a252f;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 35px;
            font-weight: bold;
            margin: 0 auto 15px;
        }

        .p-name {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .p-sub {
            opacity: 0.8;
            font-size: 14px;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .p-badge {
            background: #e8f5e9;
            color: #27ae60;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            display: inline-block;
            margin-top: 10px;
        }

        .p-grid {
            padding: 30px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .p-item {
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

        .p-label {
            font-size: 12px;
            color: #7f8c8d;
            text-transform: uppercase;
            font-weight: 600;
            display: block;
            margin-bottom: 4px;
        }

        .p-value {
            font-size: 16px;
            color: #2c3e50;
            font-weight: 500;
        }

        @media (max-width: 600px) {
            .p-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>

    <div id="login-screen">
        <div class="login-left">
            <div class="circle-1"></div>
            <div class="circle-2"></div>
            <div class="market-card">
                <h1 style="font-size: 2.2rem; font-weight: 800; margin-bottom: 15px;">UPSC Elite Portal</h1>
                <p style="opacity: 0.9;">Premium Access to All India Mock Tests & Resources.</p>
                <div style="margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap;">
                    <span
                        style="background: rgba(255,255,255,0.2); padding: 5px 12px; border-radius: 20px; font-size: 0.85rem;">üìö
                        500+ PDFs</span>
                    <span
                        style="background: rgba(255,255,255,0.2); padding: 5px 12px; border-radius: 20px; font-size: 0.85rem;">‚ö°
                        Live CBT</span>
                </div>
            </div>
        </div>
        <div class="login-right">
            <h2 style="font-size: 2rem; color: var(--primary); margin-bottom: 10px;">Welcome</h2>
            <p style="color: var(--text-light); margin-bottom: 30px;">Login to your dashboard.</p>
            <form id="loginForm">
                <div class="input-group">
                    <label>Username</label>
                    <input type="text" id="username" placeholder="e.g. Ankit" required>
                </div>
                <div class="input-group">
                    <label>Password</label>
                    <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                <button type="submit" class="btn-primary" id="loginBtn">Secure Login</button>
                <div id="error-message" class="error-msg">Invalid Credentials</div>
            </form>
        </div>
    </div>

    <div id="dashboard">

        <aside>
            <div
                style="font-size: 1.4rem; font-weight: 800; color: var(--primary); margin-bottom: 40px; display: flex; align-items: center; gap: 10px;">
                <span
                    style="background:var(--primary); color:white; width:32px; height:32px; display:flex; align-items:center; justify-content:center; border-radius:8px; font-size:1rem;">üéì</span>
                UPSC ELITE
            </div>
            <div class="nav-item active" onclick="switchTab('pdfs')" id="nav-pdfs"><span>üìÑ</span> All Tests</div>
            <div class="nav-item" onclick="switchTab('tests')" id="nav-tests"><span>üñ•Ô∏è</span> Live Tests</div>
            <div class="nav-item" onclick="switchTab('profile')" id="nav-profile"><span>üë§</span> My Profile</div>
            <div class="nav-item" style="margin-top: auto; color: var(--danger);" onclick="logout()"><span>üö™</span>
                Logout</div>
        </aside>

        <div class="mobile-header">
            <div class="brand-mobile">
                <span
                    style="background:var(--primary); color:white; width:28px; height:28px; display:flex; align-items:center; justify-content:center; border-radius:6px; font-size:0.9rem;">üéì</span>
                UPSC ELITE
            </div>
            <button onclick="logout()"
                style="background:none; border:none; color:var(--text-light); font-size:1.2rem;">üö™</button>
        </div>

        <main>
            <div class="desktop-header">
                <div class="search-bar">
                    <input type="text" id="desktopSearch" placeholder="Search resources..."
                        onkeyup="syncSearch(this.value)">
                </div>
                <div style="font-weight: 600;" id="headerUser">Student</div>
            </div>

            <div class="content-area">

                <div class="mobile-search-wrapper">
                    <input type="text" id="mobileSearch" placeholder="üîç Search tests & notes..."
                        onkeyup="syncSearch(this.value)">
                </div>

                <div id="view-pdfs">
                    <h2 style="margin-bottom: 10px;">Study Material</h2>
                    <div class="pills-wrapper" id="pillsContainer"></div>
                    <div class="list-container">
                        <div class="list-row list-head">
                            <div>Test Name</div>
                            <div>Institute</div>
                            <div style="text-align:right">Action</div>
                        </div>
                        <div id="fileListBody"></div>
                    </div>
                </div>

                <div id="view-tests" style="display:none;">
                    <h2 style="margin-bottom: 20px;">Live Evaluation Center</h2>
                    <div id="testGrid"></div>
                </div>

                <div id="view-profile" style="display:none;">
                    <div class="profile-wrapper">
                        <div class="my-profile-card">
                            <div class="p-header">
                                <div class="p-avatar" id="p-avatar">U</div>
                                <div class="p-name" id="p-name">Loading...</div>
                                <div class="p-sub">Premium Member</div>
                                <div class="p-badge" id="p-status">Active Plan</div>
                            </div>
                            <div class="p-grid">
                                <div class="p-item"><span class="p-label">Target Exam</span><span class="p-value"
                                        id="p-exam">-</span></div>
                                <div class="p-item"><span class="p-label">Attempt Year</span><span class="p-value"
                                        id="p-year">-</span></div>
                                <div class="p-item"><span class="p-label">Optional Subject</span><span class="p-value"
                                        id="p-optional">-</span></div>
                                <div class="p-item"><span class="p-label">Medium</span><span class="p-value"
                                        id="p-medium">-</span></div>
                                <div class="p-item"><span class="p-label">Prep Stage</span><span class="p-value"
                                        id="p-stage">-</span></div>
                                <div class="p-item"><span class="p-label">Plan Expiry</span><span class="p-value"
                                        id="p-expiry" style="color:#e74c3c">-</span></div>
                                <div class="p-item"><span class="p-label">Prelims Count</span><span class="p-value"
                                        id="p-pre">-</span></div>
                                <div class="p-item"><span class="p-label">Mains Written</span><span class="p-value"
                                        id="p-mains">-</span></div>
                                <div class="p-item"><span class="p-label">Amount Paid</span><span class="p-value"
                                        id="p-paid">-</span></div>
                                <div class="p-item"><span class="p-label">Payment Mode</span><span class="p-value"
                                        id="p-mode">-</span></div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>

        <div class="mobile-bottom-nav">
            <button class="nav-btn active" onclick="switchTab('pdfs')" id="mob-pdfs">
                <svg viewBox="0 0 24 24">
                    <path
                        d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z" />
                </svg>
                Material
            </button>
            <button class="nav-btn" onclick="switchTab('tests')" id="mob-tests">
                <svg viewBox="0 0 24 24">
                    <path
                        d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 18V6h16v12H4zM6 10h2v2H6zm0 4h2v2H6zm4-4h8v2h-8zm0 4h8v2h-8z" />
                </svg>
                Live Tests
            </button>
            <button class="nav-btn" onclick="switchTab('profile')" id="mob-profile">
                <svg viewBox="0 0 24 24">
                    <path
                        d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
                </svg>
                Profile
            </button>
        </div>

    </div>

    <script>
        /* ==================== CONFIGURATION ==================== */
        const DATABASE = {
            "Akash Kumar": {
                hash: "819ccee2da9b172c5c3a23521f16b1d925c9923974e548e140ab20c58b2657cb",
                profile: { "name": "Akash Kumar", "exam": "UPSC CSE", "year": "2026", "optional": "PSIR", "medium": "Hindi", "stage": "Foundation", "prelims_count": "1", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Ankit": {
                hash: "f8fc9feaaceed961f71dfdee2f77154ce1a9baaf3d28537caa5e307298b14f21",
                profile: { "name": "Ankit", "exam": "UPSC CSE", "year": "2025", "optional": "History", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Amit": {
                hash: "a665a45920422f9d417e4867efdc4fb8a04a1f3fff1fa07e998e86f7f7a27ae3",
                profile: { name: "Amit", exam: "UPSC CSE", year: "2026", optional: "History", medium: "Hindi", stage: "Interview", prelims_count: "4", mains_written: "2", paid: "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Aryan": {
                hash: "0a05aee6636042f69b31d8f3d8e5e65543bbbf25f42c3310700bdeb42803ae57",
                profile: { "name": "Aryan", "exam": "UPSC CSE", "year": "2026-27", "optional": "PSIR", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Bansilal": {
                hash: "ec1abb792d50375c1869eee960dc9f594898777ce8607fe08977bea3622ed72d",
                profile: { "name": "Bansilal", "exam": "UPSC CSE", "year": "2026", "optional": "No Details", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Basavaraj SB": {
                hash: "3bbdc83bc875667e909e0abc36039c373fcc1cebc7090e95f8ccfbbddb88fb36",
                profile: { "name": "Basavaraj SB", "exam": "UPSC CSE", "year": "2027", "optional": "Economics", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Bhavleen Kaur": {
                hash: "b5b42bcd77f8f9e378f8fe9f43ffd2e6217f801f3cd9ec7d05634047b18739d3",
                profile: { "name": "Bhavleen Kaur", "exam": "UPSC CSE", "year": "2026", "optional": "No Information", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Danidhariya Nirav": {
                hash: "457f87748450587293b0cb078831e90ad4c9731a4e63762d9f5f9a2b882a4a13",
                profile: { "name": "Danidhariya Nirav", "exam": "UPSC CSE", "year": "2026", "optional": "PSIR", "medium": "English", "stage": "Foundation", "prelims_count": "1", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Deemati": {
                hash: "47f268b08b3dc2ed3faaa2b8ea7b609c7350ce9fa22773cbbb13250de746abbc",
                profile: { "name": "Deemati", "exam": "UPSC CSE", "year": "2026-27", "optional": "No Information", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Dhawal Jain": {
                hash: "e69a37b80b4dd079c1f529e3dc51ed8d6766296cfa924428a1ed4e5e7a7602e0",
                profile: { "name": "Dhawal Jain", "exam": "UPSC CSE", "year": "2026", "optional": "Psychology", "medium": "English", "stage": "Foundation", "prelims_count": "2", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Dhruva": {
                hash: "5cad51ca2ab72ce03595170bfe45bb74230c88f607d9bafbfda7abd322335321",
                profile: { "name": "Dhruva", "exam": "UPSC CSE", "year": "2026", "optional": "No Details", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Dinesh Aryan": {
                hash: "bbfa9c3ff1c6b7ee773b4985c520a3793f96f568d2373400b642491e59463a68",
                profile: { "name": "Dinesh Aryan", "exam": "UPSC CSE", "year": "2026", "optional": "PSIR", "medium": "English", "stage": "Mains Ready", "prelims_count": "2", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Harshit Singh": {
                hash: "1162fd39a4680d06add1f73a315602ed265baf24cee4c9c2dd6b53073d6d48c4",
                profile: { "name": "Harshit Singh", "exam": "UPSC CSE", "year": "2026-27", "optional": "Geography", "medium": "English", "stage": "Foundation", "prelims_count": "2", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Lakshmanan": {
                hash: "836aca34e3cf268f05828e0d85bf57569acad7ad3ba25fcfd871e42f6214d81b",
                profile: { "name": "Lakshmanan", "exam": "UPSC CSE", "year": "2026-27", "optional": "Sociology", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "M Suba": {
                hash: "90cfde8f748812c93c8b8c1f4890206cfc75bc2440f1eca4b2dc2ab985d81e74",
                profile: { "name": "M Suba", "exam": "UPSC CSE", "year": "2026", "optional": "Sociology", "medium": "English", "stage": "Foundation", "prelims_count": "1", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Pankaj": {
                hash: "3876d7c4be62bbac06196523c53857c91c0b8119cbb7d73edf0182cbdf267602",
                profile: { "name": "Pankaj", "exam": "UPSC CSE", "year": "2026-27", "optional": "Economics", "medium": "English", "stage": "Foundation", "prelims_count": "2", "mains_written": "1", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Pushpender": {
                hash: "54d814afa45eb748f0623cb01358456e4f02ed78f7affab2ea48f020d28babe5",
                profile: { "name": "Pushpender", "exam": "UPSC CSE", "year": "2026", "optional": "Anthropology", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Radha": {
                hash: "bbcfcc9739cbd57d0e0d038cb39e607f9516bd476bd1d05171f039658cc89ca0",
                profile: { "name": "Radha", "exam": "UPSC CSE", "year": "2026-27", "optional": "Anthropology", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Raj Kishore": {
                hash: "831ee7e4cf22ffb405874ae0f834a3923383805420a14bf366542e3632d56b39",
                profile: { "name": "Raj Kishore", "exam": "UPSC CSE", "year": "2026", "optional": "Chemistry", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Ritik Raj": {
                hash: "971533973374623b459680dd6614cae7ada2864ddbcc4e2a63c7148f08a7c186",
                profile: { "name": "Ritik Raj", "exam": "UPSC CSE", "year": "2026", "optional": "Public Administration", "medium": "English", "stage": "Mains Ready", "prelims_count": "2", "mains_written": "1", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Rohit Kumar": {
                hash: "824abba68e0110ba1505644017baf0c2d163db1df84cd2bfba936ad26ab4c61b",
                profile: { "name": "Rohit Kumar", "exam": "UPSC CSE", "year": "2026", "optional": "No Information", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Ruchi Singh": {
                hash: "e9a6733a1be7df0a156d4909386605adff6ef93a9be0436d17d5fb449d63c094",
                profile: { "name": "Ruchi Singh", "exam": "UPSC CSE", "year": "2026-27", "optional": "Physics", "medium": "English", "stage": "Foundation", "prelims_count": "2", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Sachin Meena": {
                hash: "0b1549dd5c1bae53c44602aada3c651ef44008fa25fde9af58192495c3a9d4fd",
                profile: { "name": "Sachin Meena", "exam": "UPSC CSE", "year": "2026-27", "optional": "Anthropology", "medium": "English", "stage": "Foundation", "prelims_count": "1", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Subhankar Banerjee": {
                hash: "4388c08b990476449014cb980ff43c72519a9ca872ec76b96230b211c5792c0f",
                profile: { "name": "Subhankar Banerjee", "exam": "UPSC CSE", "year": "2027", "optional": "Sociology", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Sid Sawant": {
                hash: "02a9c890d873db75f61b53ec637beeefd6ca26353e46ca0d975d83bbeffec500",
                profile: { "name": "Sid Sawant", "exam": "UPSC CSE", "year": "2026", "optional": "No Details...", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Tejas Pund": {
                hash: "7266bb67f84c05abea40d2e24e2762b828ffbb7a5e177f9c7f54f755064526af",
                profile: { "name": "Tejas Pund", "exam": "UPSC CSE", "year": "2026-27", "optional": "Agriculture", "medium": "English", "stage": "Foundation", "prelims_count": "2", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Tejmal": {
                hash: "f3d7eb14f496b48037e54f255a2995a2fa1d2573735eb0d0c4624cb4d177367c",
                profile: { "name": "Tejmal", "exam": "UPSC CSE", "year": "2026-27", "optional": "History", "medium": "Hindi", "stage": "Foundation", "prelims_count": "1", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Thiru": {
                hash: "92772edeac9c1efce79f64e63869944e00f526a97be4d375716c0ad766129762",
                profile: { "name": "Thiru", "exam": "UPSC CSE", "year": "2026-27", "optional": "Anthropology", "medium": "English", "stage": "Foundation", "prelims_count": "1", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Tsewang Norbu": {
                hash: "f480e4516906ea30bfc97ef63dac7fbc28f205aedc1082ee43169788284532ae",
                profile: { "name": "Tsewang Norbu", "exam": "UPSC CSE", "year": "2026", "optional": "Geography", "medium": "English", "stage": "Foundation", "prelims_count": "3", "mains_written": "1", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Vamsivalmiki": {
                hash: "d1f8aa8880cee1dacd11412f8259a596a3d361abde396249cdecf346c637570e",
                profile: { "name": "Vamsivalmiki", "exam": "UPSC CSE", "year": "2027", "optional": "Sociology", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Vivek Mahajan": {
                hash: "6373d2aba7087eec846b4925d94007c61b22fbf667fd30bdf3a79b6a5f036a8f",
                profile: { "name": "Vivek Mahajan", "exam": "UPSC CSE", "year": "2026", "optional": "Sociology", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
            "Siddhant Kumar": {
                hash: "fa5db00cda3a399096b1f7fab96688816fec373fe64ba11357724599f502faed",
                profile: { "name": "Siddhant Kumar", "exam": "UPSC CSE", "year": "2026-27", "optional": "Sociology", "medium": "English", "stage": "Foundation", "prelims_count": "0", "mains_written": "0", "paid": "‚Çπ132", "mode": "UPI", "expiry": "31st Dec 2026" }
            },
        };

        const PDF_DATA = [
            {
                institute: "GS Score",
                tests: [
                    { name: "GS Score Prelims 2026 All India Open Mock Test 1 Download Pdf", link: "GS-Score-Prelims-2026-All-India-Open-Mock-Test-1-Download-Pdf.pdf" },
                    { name: "GS Score Prelims 2026 All India Open Mock Test 2 Download Pdf", link: "GS-Score-Prelims-2026-All-India-Open-Mock-Test-2-Download-Pdf.pdf" },
                    { name: "GS Score Prelims 2026 All India Open Mock Test 3 Download Pdf", link: "GS-Score-Prelims-2026-All-India-Open-Mock-Test-3-Download-Pdf.pdf" },
                    { name: "GS Score Prelims 2026 All India Open Mock Test 4 Download Pdf", link: "GS-Score-Prelims-2026-All-India-Open-Mock-Test-4-Download-Pdf.pdf" },
                    { name: "GS Score Prelims 2026 All India Open Mock Test 5 Download Pdf", link: "GS-Score-Prelims-2026-All-India-Open-Mock-Test-5-Download-Pdf.pdf" },
                    { name: "GS Score Prelims 2026 All India Open Mock Test 6 Download Pdf", link: "GS-Score-Prelims-2026-All-India-Open-Mock-Test-6-Download-Pdf.pdf" },
                    { name: "GS Score Prelims 2026 All India Open Mock Test 7 Download Pdf", link: "GS-Score-Prelims-2026-All-India-Open-Mock-Test-7-Download-Pdf.pdf" },
                    { name: "GS Score Prelims 2026 Polity Test 1 With Solution Download Pdf", link: "gs-score-prelims-2026-polity-test-1-with-solution-download-pdf.pdf" },
                    { name: "GS Score Prelims 2026 Polity Test 2 With Solution Download Pdf", link: "gs-score-prelims-2026-polity-test-2-with-solution-download-pdf.pdf" },
                    { name: "GS Score Prelims 2026 Polity Test 3 With Solution Download Pdf", link: "gs-score-prelims-2026-polity-test-3-with-solution-download-pdf.pdf" },
                    { name: "GS Score Prelims 2026 Polity Test 4 With Solution Download Pdf", link: "gs-score-prelims-2026-polity-test-4-with-solution-download-pdf.pdf" },
                    { name: "GS Score Prelims 2026 Polity Test 5 With Solution Download Pdf", link: "gs-score-prelims-2026-polity-test-5-with-solution-download-pdf.pdf" }
                ]
            },
            {
                institute: "Next IAS",
                tests: [
                    { name: "NEXT IAS Prelims 2026 Test 1 With QA", link: "NEXT-IAS-Prelims-2026-Test-1-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 2 With QA", link: "NEXT-IAS-Prelims-2026-Test-2-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 3 With QA", link: "NEXT-IAS-Prelims-2026-Test-3-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 4 With QA", link: "NEXT-IAS-Prelims-2026-Test-4-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 5 With QA", link: "NEXT-IAS-Prelims-2026-Test-5-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 6 With QA", link: "NEXT-IAS-Prelims-2026-Test-6-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 7 With QA", link: "NEXT-IAS-Prelims-2026-Test-7-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 8 With QA", link: "NEXT-IAS-Prelims-2026-Test-8-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 9 With QA", link: "NEXT-IAS-Prelims-2026-Test-9-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 10 With QA", link: "NEXT-IAS-Prelims-2026-Test-10-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 11 With QA", link: "NEXT-IAS-Prelims-2026-Test-11-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 12 With QA", link: "NEXT-IAS-Prelims-2026-Test-12-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 13 With QA", link: "NEXT-IAS-Prelims-2026-Test-13-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 14 With QA", link: "NEXT-IAS-Prelims-2026-Test-14-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 15 With QA", link: "NEXT-IAS-Prelims-2026-Test-15-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 16 With QA", link: "NEXT-IAS-Prelims-2026-Test-16-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 17 With QA", link: "NEXT-IAS-Prelims-2026-Test-17-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 18 With QA", link: "NEXT-IAS-Prelims-2026-Test-18-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 19 With QA", link: "NEXT-IAS-Prelims-2026-Test-19-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 20 With QA", link: "NEXT-IAS-Prelims-2026-Test-20-With-Question-and-answers.pdf" },
                    { name: "NEXT IAS Prelims 2026 Test 21 With QA", link: "NEXT-IAS-Prelims-2026-Test-21-With-Question-and-answers.pdf" }
                ]
            },
            {
                institute: "Only IAS",
                tests: [
                    { name: "PW Only IAS Prelims 2026 Test 1 With Solution PDF", link: "PW-Only-IAS-Prelims-2026-Test-1-With-Solution-PDF.pdf" },
                    { name: "PW Only IAS Prelims 2026 Test 2 With Solution PDF", link: "PW-Only-IAS-Prelims-2026-Test-2-With-Solution-PDF.pdf" },
                    { name: "PW Only IAS Prelims 2026 Test 3 With Solution PDF", link: "PW-Only-IAS-Prelims-2026-Test-3-With-Solution-PDF.pdf" }
                ]
            },
            {
                institute: "Shankar IAS",
                tests: [
                    { name: "Shankar IAS Prelims 2026 Test 1 With Solution PDF", link: "Shankar-IAS-Prelims-2026-Test-1-With-Solution-PDF.pdf" },
                    { name: "Shankar IAS Prelims 2026 Test 2 With Solution PDF", link: "Shankar-IAS-Prelims-2026-Test-2-With-Solution-PDF.pdf" },
                    { name: "Shankar IAS Prelims 2026 Test 3 With Solution PDF", link: "Shankar-IAS-Prelims-2026-Test-3-With-Solution-PDF.pdf" },
                    { name: "Shankar IAS Prelims 2026 Test 4 With Solution PDF", link: "Shankar-IAS-Prelims-2026-Test-4-With-Solution-PDF.pdf" }
                ]
            },
            {
                institute: "Vajiram & Ravi",
                tests: [
                    { name: "Vajiram Prelims 2026 Test 1 With Solutions", link: "Vajiram-and-Ravi-Camp-Prelims-2026-Test-1-With-Solutions-Pdf.pdf" },
                    { name: "Vajiram Prelims 2026 Test 2 With Solutions", link: "Vajiram-and-Ravi-Camp-Prelims-2026-Test-2-With-Solutions-Pdf.pdf" },
                    { name: "Vajiram Prelims 2026 Test 3 With Solutions", link: "Vajiram-and-Ravi-Camp-Prelims-2026-Test-3-With-Solutions-Pdf.pdf" }
                ]
            },
            {
                institute: "Vision IAS",
                tests: [{ name: "Vision IAS Prelims 2026 Test 1 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-1-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 2 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-2-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 3 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-3-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 4 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-4-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 5 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-5-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 6 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-6-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 7 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-7-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 8 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-8-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 9 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-9-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 10 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-10-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 11 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-11-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 12 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-12-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 13 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-13-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 14 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-14-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 15 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-15-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 16 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-16-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 17 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-17-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 18 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-18-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 19 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-19-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 20 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-20-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 21 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-21-with-solution-in-english-pdf.pdf" },
                { name: "Vision IAS Prelims 2026 Test 22 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-22-with-solution-in-english-pdf.pdf" },
                ]
            }
        ];



        const LIVE_TESTS = [
            { id: "gs_test_04", title: "GS Score Prelims 2026 - Polity Test #01", institute: "GS Score", questions: 100, time: "120 Mins", link: "tests/t_i7j78_gs1.html" },
            { id: "gs_test_04", title: "GS Score Prelims 2026 - Polity Test #04", institute: "GS Score", questions: 100, time: "120 Mins", link: "tests/t_8f7a9_gs4.html" }

        ];

        /* ==================== SYSTEM LOGIC ==================== */
        let CURRENT_FILTER = 'All';
        let CURRENT_SEARCH = '';

        async function sha256(message) {
            const msgBuffer = new TextEncoder().encode(message);
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
            return Array.from(new Uint8Array(hashBuffer)).map(b => b.toString(16).padStart(2, '0')).join('');
        }

        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const user = document.getElementById('username').value.trim();
            const pass = document.getElementById('password').value;
            const btn = document.getElementById('loginBtn');
            const err = document.getElementById('error-message');

            btn.innerText = "Authenticating...";
            btn.style.opacity = "0.7";

            const enteredHash = await sha256(pass);

            setTimeout(() => {
                if (DATABASE[user] && DATABASE[user].hash === enteredHash) {
                    localStorage.setItem('currentUserProfile', JSON.stringify(DATABASE[user].profile));
                    document.cookie = "upsc_session=true; path=/; max-age=86400; SameSite=Strict";
                    initDashboard(DATABASE[user].profile);
                } else {
                    err.style.display = 'block';
                    btn.innerText = "Access Portal";
                    btn.style.opacity = "1";
                }
            }, 600);
        });

        function initDashboard(profile) {
            if (!profile) profile = JSON.parse(localStorage.getItem('currentUserProfile'));

            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('dashboard').style.display = 'flex';

            if (document.getElementById('headerUser')) document.getElementById('headerUser').innerText = profile.name;

            // Populate Profile Tab
            if (document.getElementById('p-name')) {
                const p = profile;
                document.getElementById('p-name').innerText = p.name;
                document.getElementById('p-avatar').innerText = p.name.charAt(0).toUpperCase();
                document.getElementById('p-exam').innerText = p.exam || '-';
                document.getElementById('p-year').innerText = p.year || '-';
                document.getElementById('p-optional').innerText = p.optional || '-';
                document.getElementById('p-medium').innerText = p.medium || '-';
                document.getElementById('p-stage').innerText = p.stage || '-';
                document.getElementById('p-expiry').innerText = p.expiry || '-';
                document.getElementById('p-pre').innerText = p.prelims_count || '-';
                document.getElementById('p-mains').innerText = p.mains_written || '-';
                document.getElementById('p-paid').innerText = p.paid || '-';
                document.getElementById('p-mode').innerText = p.mode || '-';
            }

            // Init Filters
            const pillsContainer = document.getElementById('pillsContainer');
            pillsContainer.innerHTML = '<div class="pill active" onclick="setFilter(\'All\')">All</div>';
            PDF_DATA.forEach(group => {
                pillsContainer.innerHTML += `<div class="pill" onclick="setFilter('${group.institute}')">${group.institute}</div>`;
            });

            renderList();
            renderTests();
        }

        function switchTab(tab) {
            // Desktop Nav
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            if (document.getElementById(`nav-${tab}`)) document.getElementById(`nav-${tab}`).classList.add('active');

            // Mobile Nav
            document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
            if (document.getElementById(`mob-${tab}`)) document.getElementById(`mob-${tab}`).classList.add('active');

            // Views
            ['pdfs', 'tests', 'profile'].forEach(v => document.getElementById(`view-${v}`).style.display = 'none');
            document.getElementById(`view-${tab}`).style.display = 'block';
        }

        function renderList() {
            const tbody = document.getElementById('fileListBody');
            tbody.innerHTML = '';

            PDF_DATA.forEach(group => {
                if (CURRENT_FILTER !== 'All' && group.institute !== CURRENT_FILTER) return;
                group.tests.forEach(test => {
                    if (CURRENT_SEARCH && !test.name.toLowerCase().includes(CURRENT_SEARCH.toLowerCase())) return;
                    tbody.innerHTML += `
                    <div class="list-row">
                        <div class="col-name">${test.name}</div>
                        <div class="col-institute"><span>${group.institute}</span></div>
                        <div class="col-action">
                            <a href="${test.link}" target="_blank" class="btn-action">Download PDF</a>
                        </div>
                    </div>`;
                });
            });
        }

        function renderTests() {
            const grid = document.getElementById('testGrid');
            grid.innerHTML = '';

            LIVE_TESTS.forEach(test => {
                if (CURRENT_SEARCH && !test.title.toLowerCase().includes(CURRENT_SEARCH.toLowerCase())) return;
                grid.innerHTML += `
                <div class="list-row" style="border-left-color: var(--accent);">
                    <div class="col-name">‚ö° ${test.title}</div>
                    <div class="col-institute">
                        <span>${test.questions} Qs</span> <span>${test.time}</span>
                    </div>
                    <div class="col-action">
                        <a href="${test.link}" target="_blank" class="btn-action" style="background:var(--text-dark); border:none; color:white; text-align:center; display:block; width:100%;">Start Live Test</a>
                    </div>
                </div>`;
            });
        }

        function setFilter(name) {
            CURRENT_FILTER = name;
            document.querySelectorAll('.pill').forEach(p => {
                if (p.innerText === name) p.classList.add('active');
                else p.classList.remove('active');
            });
            renderList();
        }

        function syncSearch(val) {
            CURRENT_SEARCH = val;
            if (document.getElementById('mobileSearch')) document.getElementById('mobileSearch').value = val;
            if (document.getElementById('desktopSearch')) document.getElementById('desktopSearch').value = val;
            renderList();
            renderTests();
        }

        function logout() {
            localStorage.clear();
            document.cookie = "upsc_session=; path=/; max-age=0";
            location.reload();
        }

        window.onload = function () {
            const saved = localStorage.getItem('currentUserProfile');
            if (saved) initDashboard(JSON.parse(saved));
        }
    </script>
</body>

</html>