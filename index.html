<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>UPSC Elite | Premium Portal</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">

    <style>
        /* =========================================
           1. CSS VARIABLES & RESET
           ========================================= */
        :root {
            --primary: #4f46e5;
            --primary-dark: #3730a3;
            --secondary: #0f172a;
            --bg-body: #f8fafc;
            --bg-card: #ffffff;
            --text-main: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --success: #10b981;
            --danger: #ef4444;
            --sidebar-width: 280px;
            --header-height: 70px;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            min-height: 100vh;
            overflow-y: auto;
            /* Ensures scrolling works globally */
            overflow-x: hidden;
        }

        /* Utilities */
        .hidden {
            display: none !important;
        }

        .text-red {
            color: #dc2626;
        }

        .flex-center {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* =========================================
           2. LOGIN SCREEN STYLES
           ========================================= */
        #login-screen {
            position: fixed;
            inset: 0;
            z-index: 9999;
            background: var(--bg-body);
            overflow-y: auto;
            /* Internal scroll for desktop if needed */
        }

        .login-grid {
            display: grid;
            grid-template-columns: 1.3fr 1fr;
            min-height: 100vh;
            width: 100%;
        }

        /* --- Login: Left Section (Marketing) --- */
        .landing-section {
            background: linear-gradient(135deg, var(--secondary) 0%, #1e1b4b 100%);
            color: white;
            padding: 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .bg-pattern {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: radial-gradient(rgba(255, 255, 255, 0.1) 1px, transparent 1px);
            background-size: 30px 30px;
            opacity: 0.4;
        }

        .landing-content {
            position: relative;
            z-index: 2;
            max-width: 650px;
            margin: 0 auto;
        }

        .badge-new {
            background: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 6px 14px;
            border-radius: 50px;
            font-size: 0.85rem;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 24px;
            font-weight: 500;
        }

        .landing-title {
            font-size: 3rem;
            line-height: 1.1;
            margin-bottom: 20px;
            font-weight: 800;
            letter-spacing: -1px;
        }

        .landing-desc {
            font-size: 1.1rem;
            opacity: 0.85;
            margin-bottom: 40px;
            line-height: 1.6;
        }

        /* Feature Grid */
        .feature-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 40px;
        }

        .feature-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: 0.3s;
        }

        .feature-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .f-icon {
            font-size: 1.8rem;
            margin-bottom: 10px;
            display: block;
        }

        .f-title {
            font-weight: 700;
            margin-bottom: 5px;
            font-size: 1rem;
            color: white;
        }

        .f-text {
            font-size: 0.85rem;
            opacity: 0.7;
            line-height: 1.4;
        }

        /* Institutes List */
        .institutes-row {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            line-height: 1.8;
            opacity: 0.9;
        }

        .institutes-row span {
            font-weight: 500;
        }

        .sep {
            margin: 0 6px;
            opacity: 0.4;
        }

        /* --- Login: Right Section (Form) --- */
        .login-form-wrapper {
            background: var(--bg-card);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px;
        }

        .login-card {
            width: 100%;
            max-width: 400px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .input-group input {
            width: 100%;
            padding: 14px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            outline: none;
            transition: 0.2s;
            background: #f8fafc;
        }

        .input-group input:focus {
            border-color: var(--primary);
            background: white;
        }

        .btn-primary {
            width: 100%;
            padding: 16px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: 0.2s;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        /* --- Mobile Login Adaptation --- */
        @media (max-width: 900px) {
            #login-screen {
                position: relative;
                /* Crucial for scrolling */
                inset: auto;
                height: auto;
                overflow: visible;
            }

            .login-grid {
                display: flex;
                flex-direction: column-reverse;
                /* Form first, then info */
            }

            .landing-section {
                padding: 40px 20px;
            }

            .landing-title {
                font-size: 2rem;
            }

            .feature-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .login-form-wrapper {
                padding: 60px 20px;
                min-height: 80vh;
            }
        }

        /* =========================================
           3. DASHBOARD STYLES
           ========================================= */
        #dashboard {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        aside {
            width: var(--sidebar-width);
            background: var(--bg-card);
            border-right: 1px solid var(--border);
            position: fixed;
            height: 100vh;
            padding: 25px;
            z-index: 50;
            display: flex;
            flex-direction: column;
        }

        .brand-logo {
            font-size: 1.4rem;
            font-weight: 800;
            color: var(--text-main);
            margin-bottom: 40px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-item {
            padding: 12px 16px;
            margin-bottom: 8px;
            border-radius: 8px;
            color: var(--text-muted);
            cursor: pointer;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: 0.2s;
        }

        .nav-item:hover,
        .nav-item.active {
            background: var(--primary);
            color: white;
        }

        .nav-item svg {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }

        /* Main Content */
        main {
            flex: 1;
            margin-left: var(--sidebar-width);
            width: calc(100% - var(--sidebar-width));
            background: var(--bg-body);
        }

        header {
            height: var(--header-height);
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 30px;
            position: sticky;
            top: 0;
            z-index: 40;
        }

        .search-bar {
            width: 400px;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 10px 16px 10px 40px;
            border-radius: 50px;
            border: 1px solid var(--border);
            background: white;
        }

        .content-container {
            padding: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .page-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
        }

        /* Cards & Lists */
        .filters {
            display: flex;
            gap: 10px;
            overflow-x: auto;
            padding-bottom: 10px;
            margin-bottom: 20px;
            scrollbar-width: none;
        }

        .pill {
            padding: 6px 16px;
            border-radius: 50px;
            border: 1px solid var(--border);
            background: white;
            cursor: pointer;
            white-space: nowrap;
            font-size: 0.85rem;
        }

        .pill.active {
            background: var(--secondary);
            color: white;
            border-color: var(--secondary);
        }

        .card {
            background: white;
            border-radius: 12px;
            border: 1px solid var(--border);
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: var(--shadow);
        }

        .btn-action {
            background: var(--primary);
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 600;
        }

        /* Profile Card */
        .profile-wrapper {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            border: 1px solid var(--border);
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .p-header {
            background: #2c3e50;
            color: white;
            padding: 25px;
            text-align: center;
        }

        .p-status {
            background: #e8f5e9;
            color: #2e7d32;
            padding: 5px 15px;
            border-radius: 4px;
            font-weight: 700;
            font-size: 0.85rem;
            display: inline-block;
            margin-top: 10px;
        }

        .p-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            padding: 30px;
            gap: 25px;
        }

        .p-item {
            border-bottom: 1px solid #f1f5f9;
            padding-bottom: 8px;
        }

        .p-label {
            display: block;
            font-size: 0.7rem;
            color: #9ca3af;
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 5px;
            letter-spacing: 0.5px;
        }

        .p-value {
            font-size: 1.1rem;
            font-weight: 500;
            color: #374151;
        }

        /* Mobile Bottom Nav */
        .mobile-nav {
            display: none;
        }

        /* --- Mobile Dashboard --- */
        @media (max-width: 800px) {
            aside {
                display: none;
            }

            main {
                margin-left: 0;
                width: 100%;
                padding-bottom: 90px;
            }

            header {
                padding: 0 20px;
                height: 60px;
            }

            .search-bar {
                width: 100%;
            }

            .content-container {
                padding: 20px;
            }

            .card {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }

            .btn-action {
                width: 100%;
                text-align: center;
            }

            .p-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .mobile-nav {
                position: fixed;
                bottom: 0;
                left: 0;
                width: 100%;
                background: white;
                border-top: 1px solid var(--border);
                height: 70px;
                display: flex;
                justify-content: space-around;
                align-items: center;
                z-index: 100;
                box-shadow: 0 -5px 15px rgba(0, 0, 0, 0.05);
            }

            .mob-btn {
                background: none;
                border: none;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 4px;
                font-size: 0.7rem;
                color: var(--text-muted);
                font-weight: 600;
            }

            .mob-btn.active {
                color: var(--primary);
            }

            .mob-btn svg {
                width: 24px;
                height: 24px;
            }
        }
    </style>
</head>

<body>

    <div id="login-screen">
        <div class="login-grid">

            <div class="landing-section">
                <div class="bg-pattern"></div>
                <div class="landing-content">

                    <div class="badge-new">
                        <span style="width:8px; height:8px; background:#4ade80; border-radius:50%;"></span>
                        Admissions Open for 2026 Batch
                    </div>

                    <h1 class="landing-title">The Ultimate<br><span style="color:#818cf8;">UPSC Elite</span> Portal.
                    </h1>
                    <p class="landing-desc">Access the most comprehensive library of 500+ Test Series PDFs, Real-time
                        Mains Evaluation, and AI-powered Performance Tracking.</p>

                    <div class="feature-grid">
                        <div class="feature-item">
                            <span class="f-icon">ðŸ“š</span>
                            <div class="f-title">500+ Test PDFs</div>
                            <div class="f-text">Vision, Forum, Vajiram & more updated daily.</div>
                        </div>
                        <div class="feature-item">
                            <span class="f-icon">âš¡</span>
                            <div class="f-title">Live CBT Mocks</div>
                            <div class="f-text">Simulate the real exam environment.</div>
                        </div>
                        <div class="feature-item">
                            <span class="f-icon">ðŸ”’</span>
                            <div class="f-title">Secure Access</div>
                            <div class="f-text">End-to-end encrypted personal dashboard.</div>
                        </div>
                        <div class="feature-item">
                            <span class="f-icon">ðŸ“Š</span>
                            <div class="f-title">Smart Analytics</div>
                            <div class="f-text">Track your progress against toppers.</div>
                        </div>
                    </div>

                    <div class="institutes-row">
                        <div
                            style="font-size:0.8rem; text-transform:uppercase; letter-spacing:1px; margin-bottom:10px; opacity:0.6;">
                            Trusted Content From:</div>
                        <span>Drishti IAS</span><span class="sep">â€¢</span>
                        <span>Forum IAS</span><span class="sep">â€¢</span>
                        <span>GS Score</span><span class="sep">â€¢</span>
                        <span>Next IAS</span><span class="sep">â€¢</span>
                        <span>Only IAS</span><span class="sep">â€¢</span>
                        <span>Shankar IAS</span><span class="sep">â€¢</span>
                        <span>Vajiram & Ravi</span><span class="sep">â€¢</span>
                        <span>Vision IAS</span>
                    </div>

                </div>
            </div>

            <div class="login-form-wrapper">
                <div class="login-card">
                    <h2 style="font-size: 1.8rem; font-weight: 800; margin-bottom: 30px;">Student Login</h2>
                    <form id="loginForm">
                        <div class="input-group">
                            <label>Username</label>
                            <input type="text" id="username" placeholder="e.g. Ankit" required autocomplete="off">
                        </div>
                        <div class="input-group">
                            <label>Password</label>
                            <input type="password" id="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
                        </div>
                        <button type="submit" class="btn-primary" id="loginBtn">Secure Login</button>
                        <div id="error-message"
                            style="display:none; color:var(--danger); margin-top:15px; text-align:center; background:#fef2f2; padding:10px; border-radius:6px;">
                            Invalid Credentials</div>
                    </form>
                </div>
            </div>

        </div>
    </div>

    <div id="dashboard" class="hidden">

        <aside>
            <div class="brand-logo">âš¡ UPSC ELITE</div>

            <div class="nav-item active" onclick="switchTab('pdfs')" id="nav-pdfs">
                <svg viewBox="0 0 24 24">
                    <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6z" />
                </svg>
                Test Series PDF
            </div>
            <div class="nav-item" onclick="switchTab('tests')" id="nav-tests">
                <svg viewBox="0 0 24 24">
                    <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2z" />
                </svg>
                Live Tests
            </div>
            <div class="nav-item" onclick="switchTab('profile')" id="nav-profile">
                <svg viewBox="0 0 24 24">
                    <path
                        d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
                </svg>
                My Profile
            </div>

            <div class="nav-item" onclick="logout()" style="margin-top:auto; color:var(--danger);">
                <svg viewBox="0 0 24 24">
                    <path
                        d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z" />
                </svg>
                Logout
            </div>
        </aside>

        <main>
            <header>
                <div class="search-bar">
                    <input type="text" placeholder="Search tests, institutes..." onkeyup="syncSearch(this.value)"
                        id="mainSearch">
                </div>
                <div style="font-weight:600; display:flex; align-items:center; gap:10px;">
                    <span id="headerUser">Student</span>
                    <div
                        style="width:32px; height:32px; background:var(--secondary); color:white; border-radius:50%; display:flex; align-items:center; justify-content:center;">
                        S</div>
                </div>
            </header>

            <div class="content-container">

                <div id="view-pdfs">
                    <h2 class="page-title">Test Series PDF</h2>
                    <div class="filters" id="pillsContainer"></div>
                    <div id="fileListBody"></div>
                </div>

                <div id="view-tests" class="hidden">
                    <h2 class="page-title">Live Tests</h2>
                    <div id="testGrid"></div>
                </div>

                <div id="view-profile" class="hidden">
                    <h2 class="page-title" style="text-align:center;">My Profile</h2>
                    <div class="profile-wrapper">
                        <div class="p-header">
                            <div style="font-weight:600; letter-spacing:1px;">PREMIUM MEMBER</div>
                            <div class="p-status">Active Plan</div>
                        </div>
                        <div class="p-grid">
                            <div class="p-item"><span class="p-label">Target Exam</span><span class="p-value"
                                    id="p-exam">-</span></div>
                            <div class="p-item"><span class="p-label">Attempt Year</span><span class="p-value"
                                    id="p-year">-</span></div>
                            <div class="p-item"><span class="p-label">Optional Subject</span><span class="p-value"
                                    id="p-optional">-</span></div>
                            <div class="p-item"><span class="p-label">Medium</span><span class="p-value"
                                    id="p-medium">-</span></div>
                            <div class="p-item"><span class="p-label">Prep Stage</span><span class="p-value"
                                    id="p-stage">-</span></div>
                            <div class="p-item"><span class="p-label">Plan Expiry</span><span class="p-value text-red"
                                    id="p-expiry">-</span></div>
                            <div class="p-item"><span class="p-label">Prelims Count</span><span class="p-value"
                                    id="p-pre">-</span></div>
                            <div class="p-item"><span class="p-label">Mains Written</span><span class="p-value"
                                    id="p-mains">-</span></div>
                            <div class="p-item" style="border:none;"><span class="p-label">Amount Paid</span><span
                                    class="p-value" id="p-paid">-</span></div>
                            <div class="p-item" style="border:none;"><span class="p-label">Payment Mode</span><span
                                    class="p-value" id="p-mode">-</span></div>
                        </div>
                    </div>
                </div>

            </div>
        </main>

        <div class="mobile-nav">
            <button class="mob-btn active" onclick="switchTab('pdfs')" id="mob-pdfs">
                <svg viewBox="0 0 24 24">
                    <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6z" />
                </svg>
                PDFs
            </button>
            <button class="mob-btn" onclick="switchTab('tests')" id="mob-tests">
                <svg viewBox="0 0 24 24">
                    <path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2z" />
                </svg>
                Tests
            </button>
            <button class="mob-btn" onclick="switchTab('profile')" id="mob-profile">
                <svg viewBox="0 0 24 24">
                    <path
                        d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
                </svg>
                Profile
            </button>
        </div>

    </div>

    <script>
        /* --- MOCK DATABASE --- */
        const DATABASE = {
            "Akash Kumar": { hash: "819ccee2da9b172c5c3a23521f16b1d925c9923974e548e140ab20c58b2657cb", profile: { name: "Akash Kumar", exam: "UPSC CSE", year: "2026", optional: "PSIR", medium: "Hindi", stage: "Foundation", prelims_count: "1", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Ankit": { hash: "f8fc9feaaceed961f71dfdee2f77154ce1a9baaf3d28537caa5e307298b14f21", profile: { name: "Ankit", exam: "UPSC CSE", year: "2025", optional: "History", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Amit": { hash: "a665a45920422f9d417e4867efdc4fb8a04a1f3fff1fa07e998e86f7f7a27ae3", profile: { name: "Amit", exam: "UPSC CSE", year: "2026", optional: "History", medium: "Hindi", stage: "Interview", prelims_count: "4", mains_written: "2", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Aryan": { hash: "0a05aee6636042f69b31d8f3d8e5e65543bbbf25f42c3310700bdeb42803ae57", profile: { name: "Aryan", exam: "UPSC CSE", year: "2026-27", optional: "PSIR", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Bansilal": { hash: "ec1abb792d50375c1869eee960dc9f594898777ce8607fe08977bea3622ed72d", profile: { name: "Bansilal", exam: "UPSC CSE", year: "2026", optional: "No Details", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Basavaraj SB": { hash: "3bbdc83bc875667e909e0abc36039c373fcc1cebc7090e95f8ccfbbddb88fb36", profile: { name: "Basavaraj SB", exam: "UPSC CSE", year: "2027", optional: "Economics", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Bhavleen Kaur": { hash: "b5b42bcd77f8f9e378f8fe9f43ffd2e6217f801f3cd9ec7d05634047b18739d3", profile: { name: "Bhavleen Kaur", exam: "UPSC CSE", year: "2026", optional: "No Information", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Danidhariya Nirav": { hash: "457f87748450587293b0cb078831e90ad4c9731a4e63762d9f5f9a2b882a4a13", profile: { name: "Danidhariya Nirav", exam: "UPSC CSE", year: "2026", optional: "PSIR", medium: "English", stage: "Foundation", prelims_count: "1", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Deemati": { hash: "47f268b08b3dc2ed3faaa2b8ea7b609c7350ce9fa22773cbbb13250de746abbc", profile: { name: "Deemati", exam: "UPSC CSE", year: "2026-27", optional: "No Information", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Dhawal Jain": { hash: "e69a37b80b4dd079c1f529e3dc51ed8d6766296cfa924428a1ed4e5e7a7602e0", profile: { name: "Dhawal Jain", exam: "UPSC CSE", year: "2026", optional: "Psychology", medium: "English", stage: "Foundation", prelims_count: "2", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Dhruva": { hash: "5cad51ca2ab72ce03595170bfe45bb74230c88f607d9bafbfda7abd322335321", profile: { name: "Dhruva", exam: "UPSC CSE", year: "2026", optional: "No Details", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Dinesh Aryan": { hash: "bbfa9c3ff1c6b7ee773b4985c520a3793f96f568d2373400b642491e59463a68", profile: { name: "Dinesh Aryan", exam: "UPSC CSE", year: "2026", optional: "PSIR", medium: "English", stage: "Mains Ready", prelims_count: "2", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Harshit Singh": { hash: "1162fd39a4680d06add1f73a315602ed265baf24cee4c9c2dd6b53073d6d48c4", profile: { name: "Harshit Singh", exam: "UPSC CSE", year: "2026-27", optional: "Geography", medium: "English", stage: "Foundation", prelims_count: "2", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Lakshmanan": { hash: "836aca34e3cf268f05828e0d85bf57569acad7ad3ba25fcfd871e42f6214d81b", profile: { name: "Lakshmanan", exam: "UPSC CSE", year: "2026-27", optional: "Sociology", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "M Suba": { hash: "90cfde8f748812c93c8b8c1f4890206cfc75bc2440f1eca4b2dc2ab985d81e74", profile: { name: "M Suba", exam: "UPSC CSE", year: "2026", optional: "Sociology", medium: "English", stage: "Foundation", prelims_count: "1", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Naresh Kumar": { hash: "02f5893176aa28fc9f5b032349541584a19ff607666949b97215542cdb25f0cf", profile: { name: "Naresh Kumar", exam: "UPSC CSE", year: "2026", optional: "English Literature", medium: "English", stage: "Foundation", prelims_count: "2", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Pankaj": { hash: "3876d7c4be62bbac06196523c53857c91c0b8119cbb7d73edf0182cbdf267602", profile: { name: "Pankaj", exam: "UPSC CSE", year: "2026-27", optional: "Economics", medium: "English", stage: "Foundation", prelims_count: "2", mains_written: "1", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Pushpender": { hash: "54d814afa45eb748f0623cb01358456e4f02ed78f7affab2ea48f020d28babe5", profile: { name: "Pushpender", exam: "UPSC CSE", year: "2026", optional: "Anthropology", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Radha": { hash: "bbcfcc9739cbd57d0e0d038cb39e607f9516bd476bd1d05171f039658cc89ca0", profile: { name: "Radha", exam: "UPSC CSE", year: "2026-27", optional: "Anthropology", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Raja": { hash: "8a81a46d9b10a7f1c68a874b3056230faa8e5b39f4c72f3423c605b8192627db", profile: { name: "Raja", exam: "UPSC CSE", year: "2026", optional: "History", medium: "English", stage: "Foundation", prelims_count: "2", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Raj Kishore": { hash: "831ee7e4cf22ffb405874ae0f834a3923383805420a14bf366542e3632d56b39", profile: { name: "Raj Kishore", exam: "UPSC CSE", year: "2026", optional: "Chemistry", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Ritik Raj": { hash: "971533973374623b459680dd6614cae7ada2864ddbcc4e2a63c7148f08a7c186", profile: { name: "Ritik Raj", exam: "UPSC CSE", year: "2026", optional: "Public Administration", medium: "English", stage: "Mains Ready", prelims_count: "2", mains_written: "1", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Rohit Kumar": { hash: "824abba68e0110ba1505644017baf0c2d163db1df84cd2bfba936ad26ab4c61b", profile: { name: "Rohit Kumar", exam: "UPSC CSE", year: "2026", optional: "No Information", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Ruchi Singh": { hash: "e9a6733a1be7df0a156d4909386605adff6ef93a9be0436d17d5fb449d63c094", profile: { name: "Ruchi Singh", exam: "UPSC CSE", year: "2026-27", optional: "Physics", medium: "English", stage: "Foundation", prelims_count: "2", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Sachin Meena": { hash: "0b1549dd5c1bae53c44602aada3c651ef44008fa25fde9af58192495c3a9d4fd", profile: { name: "Sachin Meena", exam: "UPSC CSE", year: "2026-27", optional: "Anthropology", medium: "English", stage: "Foundation", prelims_count: "1", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Subhankar Banerjee": { hash: "4388c08b990476449014cb980ff43c72519a9ca872ec76b96230b211c5792c0f", profile: { name: "Subhankar Banerjee", exam: "UPSC CSE", year: "2027", optional: "Sociology", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Sid Sawant": { hash: "02a9c890d873db75f61b53ec637beeefd6ca26353e46ca0d975d83bbeffec500", profile: { name: "Sid Sawant", exam: "UPSC CSE", year: "2026", optional: "No Details...", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Tejas Pund": { hash: "7266bb67f84c05abea40d2e24e2762b828ffbb7a5e177f9c7f54f755064526af", profile: { name: "Tejas Pund", exam: "UPSC CSE", year: "2026-27", optional: "Agriculture", medium: "English", stage: "Foundation", prelims_count: "2", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Tejmal": { hash: "f3d7eb14f496b48037e54f255a2995a2fa1d2573735eb0d0c4624cb4d177367c", profile: { name: "Tejmal", exam: "UPSC CSE", year: "2026-27", optional: "History", medium: "Hindi", stage: "Foundation", prelims_count: "1", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Thiru": { hash: "92772edeac9c1efce79f64e63869944e00f526a97be4d375716c0ad766129762", profile: { name: "Thiru", exam: "UPSC CSE", year: "2026-27", optional: "Anthropology", medium: "English", stage: "Foundation", prelims_count: "1", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Tsewang Norbu": { hash: "f480e4516906ea30bfc97ef63dac7fbc28f205aedc1082ee43169788284532ae", profile: { name: "Tsewang Norbu", exam: "UPSC CSE", year: "2026", optional: "Geography", medium: "English", stage: "Foundation", prelims_count: "3", mains_written: "1", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Vamsivalmiki": { hash: "d1f8aa8880cee1dacd11412f8259a596a3d361abde396249cdecf346c637570e", profile: { name: "Vamsivalmiki", exam: "UPSC CSE", year: "2027", optional: "Sociology", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Vivek Mahajan": { hash: "6373d2aba7087eec846b4925d94007c61b22fbf667fd30bdf3a79b6a5f036a8f", profile: { name: "Vivek Mahajan", exam: "UPSC CSE", year: "2026", optional: "Sociology", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
            "Siddhant Kumar": { hash: "fa5db00cda3a399096b1f7fab96688816fec373fe64ba11357724599f502faed", profile: { name: "Siddhant Kumar", exam: "UPSC CSE", year: "2026-27", optional: "Sociology", medium: "English", stage: "Foundation", prelims_count: "0", mains_written: "0", paid: "â‚¹132", mode: "UPI", expiry: "31st Dec 2026" } },
        };

        const PDF_DATA = [
            { institute: "GS Score", tests: [{ name: "GS Score Prelims 2026 All India Open Mock Test 1 Download Pdf", link: "GS-Score-Prelims-2026-All-India-Open-Mock-Test-1-Download-Pdf.pdf" }, { name: "GS Score Prelims 2026 All India Open Mock Test 2 Download Pdf", link: "GS-Score-Prelims-2026-All-India-Open-Mock-Test-2-Download-Pdf.pdf" }, { name: "GS Score Prelims 2026 All India Open Mock Test 3 Download Pdf", link: "GS-Score-Prelims-2026-All-India-Open-Mock-Test-3-Download-Pdf.pdf" }, { name: "GS Score Prelims 2026 All India Open Mock Test 4 Download Pdf", link: "GS-Score-Prelims-2026-All-India-Open-Mock-Test-4-Download-Pdf.pdf" }, { name: "GS Score Prelims 2026 All India Open Mock Test 5 Download Pdf", link: "GS-Score-Prelims-2026-All-India-Open-Mock-Test-5-Download-Pdf.pdf" }, { name: "GS Score Prelims 2026 All India Open Mock Test 6 Download Pdf", link: "GS-Score-Prelims-2026-All-India-Open-Mock-Test-6-Download-Pdf.pdf" }, { name: "GS Score Prelims 2026 All India Open Mock Test 7 Download Pdf", link: "GS-Score-Prelims-2026-All-India-Open-Mock-Test-7-Download-Pdf.pdf" }, { name: "GS Score Prelims 2026 Polity Test 1 With Solution Download Pdf", link: "gs-score-prelims-2026-polity-test-1-with-solution-download-pdf.pdf" }, { name: "GS Score Prelims 2026 Polity Test 2 With Solution Download Pdf", link: "gs-score-prelims-2026-polity-test-2-with-solution-download-pdf.pdf" }, { name: "GS Score Prelims 2026 Polity Test 3 With Solution Download Pdf", link: "gs-score-prelims-2026-polity-test-3-with-solution-download-pdf.pdf" }, { name: "GS Score Prelims 2026 Polity Test 4 With Solution Download Pdf", link: "gs-score-prelims-2026-polity-test-4-with-solution-download-pdf.pdf" }, { name: "GS Score Prelims 2026 Polity Test 5 With Solution Download Pdf", link: "gs-score-prelims-2026-polity-test-5-with-solution-download-pdf.pdf" }] },
            { institute: "Next IAS", tests: [{ name: "NEXT IAS Prelims 2026 Test 1 With QA", link: "NEXT-IAS-Prelims-2026-Test-1-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 2 With QA", link: "NEXT-IAS-Prelims-2026-Test-2-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 3 With QA", link: "NEXT-IAS-Prelims-2026-Test-3-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 4 With QA", link: "NEXT-IAS-Prelims-2026-Test-4-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 5 With QA", link: "NEXT-IAS-Prelims-2026-Test-5-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 6 With QA", link: "NEXT-IAS-Prelims-2026-Test-6-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 7 With QA", link: "NEXT-IAS-Prelims-2026-Test-7-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 8 With QA", link: "NEXT-IAS-Prelims-2026-Test-8-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 9 With QA", link: "NEXT-IAS-Prelims-2026-Test-9-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 10 With QA", link: "NEXT-IAS-Prelims-2026-Test-10-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 11 With QA", link: "NEXT-IAS-Prelims-2026-Test-11-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 12 With QA", link: "NEXT-IAS-Prelims-2026-Test-12-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 13 With QA", link: "NEXT-IAS-Prelims-2026-Test-13-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 14 With QA", link: "NEXT-IAS-Prelims-2026-Test-14-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 15 With QA", link: "NEXT-IAS-Prelims-2026-Test-15-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 16 With QA", link: "NEXT-IAS-Prelims-2026-Test-16-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 17 With QA", link: "NEXT-IAS-Prelims-2026-Test-17-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 18 With QA", link: "NEXT-IAS-Prelims-2026-Test-18-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 19 With QA", link: "NEXT-IAS-Prelims-2026-Test-19-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 20 With QA", link: "NEXT-IAS-Prelims-2026-Test-20-With-Question-and-answers.pdf" }, { name: "NEXT IAS Prelims 2026 Test 21 With QA", link: "NEXT-IAS-Prelims-2026-Test-21-With-Question-and-answers.pdf" }] },
            { institute: "Only IAS", tests: [{ name: "PW Only IAS Prelims 2026 Test 1 With Solution PDF", link: "PW-Only-IAS-Prelims-2026-Test-1-With-Solution-PDF.pdf" }, { name: "PW Only IAS Prelims 2026 Test 2 With Solution PDF", link: "PW-Only-IAS-Prelims-2026-Test-2-With-Solution-PDF.pdf" }, { name: "PW Only IAS Prelims 2026 Test 3 With Solution PDF", link: "PW-Only-IAS-Prelims-2026-Test-3-With-Solution-PDF.pdf" }] },
            { institute: "Shankar IAS", tests: [{ name: "Shankar IAS Prelims 2026 Test 1 With Solution PDF", link: "Shankar-IAS-Prelims-2026-Test-1-With-Solution-PDF.pdf" }, { name: "Shankar IAS Prelims 2026 Test 2 With Solution PDF", link: "Shankar-IAS-Prelims-2026-Test-2-With-Solution-PDF.pdf" }, { name: "Shankar IAS Prelims 2026 Test 3 With Solution PDF", link: "Shankar-IAS-Prelims-2026-Test-3-With-Solution-PDF.pdf" }, { name: "Shankar IAS Prelims 2026 Test 4 With Solution PDF", link: "Shankar-IAS-Prelims-2026-Test-4-With-Solution-PDF.pdf" }] },
            { institute: "Vajiram & Ravi", tests: [{ name: "Vajiram Prelims 2026 Test 1 With Solutions", link: "Vajiram-and-Ravi-Camp-Prelims-2026-Test-1-With-Solutions-Pdf.pdf" }, { name: "Vajiram Prelims 2026 Test 2 With Solutions", link: "Vajiram-and-Ravi-Camp-Prelims-2026-Test-2-With-Solutions-Pdf.pdf" }, { name: "Vajiram Prelims 2026 Test 3 With Solutions", link: "Vajiram-and-Ravi-Camp-Prelims-2026-Test-3-With-Solutions-Pdf.pdf" }] },
            { institute: "Vision IAS", tests: [{ name: "Vision IAS Prelims 2026 Test 1 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-1-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 2 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-2-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 3 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-3-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 4 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-4-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 5 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-5-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 6 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-6-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 7 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-7-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 8 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-8-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 9 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-9-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 10 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-10-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 11 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-11-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 12 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-12-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 13 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-13-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 14 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-14-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 15 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-15-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 16 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-16-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 17 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-17-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 18 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-18-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 19 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-19-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 20 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-20-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 21 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-21-with-solution-in-english-pdf.pdf" }, { name: "Vision IAS Prelims 2026 Test 22 with Solution in English Pdf", link: "vision-ias-prelims-2026-test-22-with-solution-in-english-pdf.pdf" }] }
        ];

        const LIVE_TESTS = [
            { id: "gs_test_01", title: "GS Score Prelims 2026 - Polity Test #01", institute: "GS Score", questions: 100, time: "120 Mins", link: "tests/t_i7j78_gs1.html" },
            { id: "gs_test_04", title: "GS Score Prelims 2026 - Polity Test #04", institute: "GS Score", questions: 100, time: "120 Mins", link: "tests/t_8f7a9_gs4.html" }
        ];

        /* --- UTILS --- */
        let CURRENT_FILTER = 'All';
        let CURRENT_SEARCH = '';

        async function sha256(message) {
            const msgBuffer = new TextEncoder().encode(message);
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
            return Array.from(new Uint8Array(hashBuffer)).map(b => b.toString(16).padStart(2, '0')).join('');
        }

        /* --- EVENTS & FUNCTIONS --- */
        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const user = document.getElementById('username').value.trim();
            const pass = document.getElementById('password').value;
            const btn = document.getElementById('loginBtn');
            const err = document.getElementById('error-message');

            const originalBtnText = btn.innerText;
            btn.innerText = "Authenticating...";
            btn.disabled = true;
            btn.style.opacity = "0.7";
            err.style.display = 'none';

            // Simulate hash delay
            const enteredHash = await sha256(pass);

            setTimeout(() => {
                if (DATABASE[user] && DATABASE[user].hash === enteredHash) {
                    localStorage.setItem('currentUserProfile', JSON.stringify(DATABASE[user].profile));
                    document.cookie = "upsc_session=true; path=/; max-age=86400; SameSite=Strict";
                    initDashboard(DATABASE[user].profile);
                } else {
                    err.style.display = 'block';
                    btn.innerText = originalBtnText;
                    btn.disabled = false;
                    btn.style.opacity = "1";
                }
            }, 600);
        });

        function initDashboard(profile) {
            if (!profile) profile = JSON.parse(localStorage.getItem('currentUserProfile'));

            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');

            // Set Header Info
            if (document.getElementById('headerUser')) document.getElementById('headerUser').innerText = profile.name;

            // Populate Profile View
            const set = (id, val) => { if (document.getElementById(id)) document.getElementById(id).innerText = val || '-'; };
            set('p-exam', profile.exam);
            set('p-year', profile.year);
            set('p-optional', profile.optional);
            set('p-medium', profile.medium);
            set('p-stage', profile.stage);
            set('p-expiry', profile.expiry);
            set('p-pre', profile.prelims_count);
            set('p-mains', profile.mains_written);
            set('p-paid', profile.paid);
            set('p-mode', profile.mode);

            // Populate Filters
            const pillsContainer = document.getElementById('pillsContainer');
            pillsContainer.innerHTML = '<div class="pill active" onclick="setFilter(\'All\')">All Institutes</div>';
            PDF_DATA.forEach(group => {
                pillsContainer.innerHTML += `<div class="pill" onclick="setFilter('${group.institute}')">${group.institute}</div>`;
            });

            renderList();
            renderTests();
        }

        function switchTab(tab) {
            // Active states
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            if (document.getElementById(`nav-${tab}`)) document.getElementById(`nav-${tab}`).classList.add('active');

            document.querySelectorAll('.mob-btn').forEach(el => el.classList.remove('active'));
            if (document.getElementById(`mob-${tab}`)) document.getElementById(`mob-${tab}`).classList.add('active');

            // View toggling
            ['pdfs', 'tests', 'profile'].forEach(v => document.getElementById(`view-${v}`).classList.add('hidden'));
            document.getElementById(`view-${tab}`).classList.remove('hidden');
        }

        function renderList() {
            const container = document.getElementById('fileListBody');
            container.innerHTML = '';
            PDF_DATA.forEach(group => {
                if (CURRENT_FILTER !== 'All' && group.institute !== CURRENT_FILTER) return;
                group.tests.forEach(test => {
                    if (CURRENT_SEARCH && !test.name.toLowerCase().includes(CURRENT_SEARCH.toLowerCase())) return;

                    container.innerHTML += `
                    <div class="card">
                        <div style="flex:1; margin-right:15px;">
                            <h4 style="font-size:1rem; margin-bottom:4px; line-height:1.4;">${test.name}</h4>
                            <span style="font-size:0.75rem; background:#f1f5f9; padding:2px 8px; border-radius:4px; color:#64748b; font-weight:600;">${group.institute}</span>
                        </div>
                        <a href="${test.link}" target="_blank" class="btn-action">Download PDF</a>
                    </div>`;
                });
            });
        }

        function renderTests() {
            const grid = document.getElementById('testGrid');
            grid.innerHTML = '';
            LIVE_TESTS.forEach(test => {
                if (CURRENT_SEARCH && !test.title.toLowerCase().includes(CURRENT_SEARCH.toLowerCase())) return;

                grid.innerHTML += `
                <div class="card" style="border-left: 4px solid var(--primary);">
                    <div style="flex:1; margin-right:15px;">
                        <h4 style="font-size:1rem; margin-bottom:5px;">âš¡ ${test.title}</h4>
                        <div style="font-size:0.85rem; color:#64748b;">${test.questions} Qs â€¢ ${test.time}</div>
                    </div>
                    <a href="${test.link}" target="_blank" class="btn-action" style="background:var(--secondary);">Start Test</a>
                </div>`;
            });
        }

        function setFilter(name) {
            CURRENT_FILTER = name;
            document.querySelectorAll('.pill').forEach(p => {
                if (p.innerText === name || (name === 'All' && p.innerText === 'All Institutes')) p.classList.add('active');
                else p.classList.remove('active');
            });
            renderList();
        }

        function syncSearch(val) {
            CURRENT_SEARCH = val;
            renderList();
            renderTests();
        }

        function logout() {
            localStorage.clear();
            document.cookie = "upsc_session=; path=/; max-age=0";
            location.reload();
        }

        window.onload = function () {
            const saved = localStorage.getItem('currentUserProfile');
            if (saved) initDashboard(JSON.parse(saved));
        }
    </script>
</body>

</html>